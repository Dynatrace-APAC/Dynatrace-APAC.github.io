((e,t)=>{"use strict";const r=()=>{let r=t.querySelector("#app");function a(){var e=t.querySelector(".js-lucky-link");if(e){var a=r.$.cards.querySelectorAll(".codelab-card");if(a.length<2)return e.href="#",void(e.parentNode.style.display="none");var n=Math.floor(Math.random()*a.length);e.href=a[n].href,e.parentNode.style.display=null}}r.categoryStartCards={},r.kioskTags=[],r.addEventListener("dom-change",function(e){if(!r._readied){var a=t.querySelectorAll(".codelab-card");Array.prototype.forEach.call(a,function(e,t){var a=e.getAttribute("data-category");void 0===r.categoryStartCards[a]&&(r.categoryStartCards[a]=e)})}}),r.codelabUrl=function(e,t){var r="index="+encodeURIComponent("../.."+e.url);return e.ga&&(r+="&viewga="+e.ga),t.url+"?"+r},r.sortBy=function(e,t){var r=t.item.textContent.trim().toLowerCase();this.$.cards.sort(r)},r.filterBy=function(e,t){t.hasOwnProperty("selected")?this.$.cards.filterByCategory(t.selected):(t.kioskTags=r.kioskTags,this.$.cards.filter(t))},r.onCategoryActivate=function(t,r){var n=t.target.selectedItem;n&&n.getAttribute("filter")===r.selected&&(r.selected=null),r.selected||this.async(function(){t.target.selected=null}),this.filterBy(t,{selected:r.selected});var s=new URLSearchParams(e.location.search.slice(1));s.delete("cat"),r.selected&&s.set("cat",r.selected);var i=e.location.pathname,c="?"+s;"?"!==c&&(i+=c),e.history.pushState({},"",i),a()};var n=t.querySelector("#chips");return n&&n.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),e.target.getAttribute("filter")){e.target.classList.toggle("selected");for(var t=[],s=n.querySelectorAll(".js-chips__item.selected"),i=0;i<s.length;i++){var c=s[i].getAttribute("filter");c&&t.push(c)}r.filterBy(null,{tags:t}),a()}}),r.reconstructFromURL=function(){for(var t=new URLSearchParams(e.location.search.slice(1)),s=t.get("cat"),i=t.getAll("tags"),c=t.get("filter"),o=i.length;o--;)"kiosk"!==i[o]&&"kiosk-"!==i[o].substr(0,6)||(r.kioskTags.push(i[o]),i.splice(o,1));this.$.categorylist&&(this.$.categorylist.selected=s),this.$.sidelist&&(this.$.sidelist.selected=s),i&&function(e){if(n){e=Array.isArray(e)?e:[e];for(var t=n.querySelectorAll(".js-chips__item"),r=0;r<t.length;r++){var a=t[r];-1!=e.indexOf(a.getAttribute("filter"))?a.classList.add("selected"):a.classList.remove("selected")}}}(i),this.filterBy(null,{cat:s,tags:i}),c&&(r.searchVal=c,r.onSearchKeyDown()),a()},r.navigate=function(t){t.preventDefault();var r=function(t){e.location.href=t},a=t.currentTarget;a.hasAttribute("data-wait-for-ripple")?a.addEventListener("transitionend",r.bind(a,a.href)):r(a.href)},r.clearSearch=function(e,t){this.searchVal=null,this.$.cards.filterByText(null)},r.onSearchKeyDown=function(e,t){this.debounce("search",function(){this.$.cards.filterByText(r.searchVal)},250)},r},a=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}),(()=>{if("registerElement"in t&&"import"in t.createElement("link")&&"content"in t.createElement("template"))t.dispatchEvent(new Event("WebComponentsReady"));else{let e=t.createElement("script");e.async=!0,e.src="/bower_components/webcomponentsjs/webcomponents-lite.min.js",t.head.appendChild(e)}})()};t.addEventListener("AppReady",()=>{t.body.classList.remove("loading")}),t.addEventListener("WebComponentsReady",()=>{const a=r();e.addEventListener("popstate",()=>{a.reconstructFromURL()}),a._setupDebouncers&&a._setupDebouncers(),a.reconstructFromURL(),t.dispatchEvent(new Event("AppReady"))}),"complete"===t.readyState||"loaded"===t.readyState||"interactive"===t.readyState?a():t.addEventListener("DOMContentLoaded",a)})(window,document);